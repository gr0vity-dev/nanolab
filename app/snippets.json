{   
    "setup_ledger_and_config": {
        "mandatory_vars": [
            "LEDGER",
            "SETUP_NODES",
            "NL_CONFIG",
            "REMOTE_IP"
        ],
        "commands": [
            {
                "type": "bash",
                "command": "./nl_run down "
            },
            {
                "type": "bash",
                "command": "cp {NL_CONFIG} submodules/nanolocal/nanolocal/nl_config.toml"
            },
            {
                "type": "bash",
                "command": "./nl_run conf_edit --nested_path remote_address --value {REMOTE_IP}"
            },
            {
                "type": "bash",
                "command": "./nl_run conf_edit --nested_path representatives.docker_tag --value {docker_tag}"
            },
            {
                "type": "bash",
                "command": "./nl_run create && ./nl_run reset"
            },
            {
                "type": "bash",
                "command": "for i in {SETUP_NODES}; do cp {LEDGER} submodules/nanolocal/nanolocal/nano_nodes/$i/NanoTest/data.ldb; done"
            },
            {
                "type": "bash",
                "command": "./nl_run start && ./nl_run init_wallets"
            }
        ]
    },

    "setup_easy": {
        "mandatory_vars": [
            "NL_CONFIG",
            "REMOTE_IP"
        ],
        "commands": [
            {
                "type": "bash",
                "command": "./nl_run down"
            },
            {
                "type": "bash",
                "command": "cp {NL_CONFIG} submodules/nanolocal/nanolocal/nl_config.toml"
            },
            {
                "type": "bash",
                "command": "./nl_run conf_edit --nested_path remote_address --value {REMOTE_IP}"
            },
            {
                "type": "bash",
                "command": "./nl_run conf_edit --nested_path representatives.docker_tag --value {docker_tag}"
            },            
            {
                "type": "bash",
                "command": "./nl_run create && ./nl_run reset && ./nl_run start && ./nl_run init && ./nl_run restart_wait_sync"
            }
        ]
    }
}